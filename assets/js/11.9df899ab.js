(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{516:function(e,t,o){"use strict";o.r(t);var n=o(6),p=Object(n.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("p",[e._v("因为是差不多全写完了才想起来要写个记录，所以只能凭记忆多少写点了。")]),e._v(" "),o("p",[e._v("熔火工坊是目前国内最大的守望先锋地图工坊汇总平台，其主要功能为地图工坊作品的展示、发布、教学、交流、分享以及配套实现。熔火工坊一词最开始出现于 19 年 5 月工坊上线后一周，GKD 工作组群友们群策群力最终拍板了这个名字，由昭华提供服务器，泷涯提供域名并进行开发，在一周内就上线了网页端熔火工坊。不到两年的时间里，熔火工坊不断发展迭代，owmod.net 也成了守望先锋玩家口中常常提起的网站。但由于缺乏竞争，主要开发泷涯（其实也就是唯一开发）疲于阿里的 996 生活，熔火工坊的更新速度变得越来越慢。值此之际，为了熟悉网站架构，便利以后可能进行的辅助更新工作，我选择了开发上线一个熔火工坊微信小程序。这，也就是我写下这篇记录的原因了。")]),e._v(" "),o("p",[e._v("由于熔火工坊（下文统称 owmod）的开发栈主要为 next + php，为了减少不必要的学习成本，也减少将来可能存在的开发成本，最终我选择了 remax 多端开发微信小程序。现在回想起来其实通过这个项目学习巩固了很多以前未学或学到的知识，或大或小，令我感慨万分。")]),e._v(" "),o("p",[e._v("首先是自己配置 Ajax，之前的开发项目中我都是直接使用他人封装好的 api，但这次为获取接口数据，自己系统的学习仿照设置了 ajax，配置了请求头，了解了请求过程，最终实现了 Ajax.js，在数据请求上面，我花费了较多的时间，结果也令我惊喜，很多原本想不明白的地方也豁然开朗，例如 cookie 的设置，get、post 的具体用法等等，之前的学习太流于表面。")]),e._v(" "),o("p",[e._v("其次令我印象较为深刻的就是 react hooks 的使用，真的是太方便了，这次开发我一点 component 都没用，全是函数组件，配上 hooks 真的是太香了。每次状态更新，重新渲染和我开发的项目十分之搭配，当然这也可能主要是因为该小程序的用户交互几乎没有，展示逻辑相对简单的原因。如果遇到更复杂的情况还是需要使用 redux，mobx，dva 这样的工具进行状态管理。useEffect 最后那个第二个参数也终于知道是什么意思了，网上都说返回第一个函数，但实际上还是很难理解是什么意思，只有上手了才懂。例如设置一个数据异步请求的场景中，请求数据需要的参数会随着界面的交互进行改变，第二个参数的列表中这时候就要填写需要根据改变的状态，这样 useEffect 才会随着状态改变进行，否则是不会随着状态改变请求不同的数据的，也就更别说数据要进行重新渲染了。真的是实践出真知啊。")]),e._v(" "),o("p",[e._v("最烦的还是等待上线，网上都说开发一小时上线好几年，虽然夸张了，但上线确实是麻烦，owmod 的域名因为一些原因没能备案，服务器挂在香港，我这里请求数据的时候就很烦，微信的 request 必须配置合法备案过的域名，这就导致了我的上线遥遥无期，就等泷涯什么时候有时间搞一下了。唉，期待着能早日上线了。")]),e._v(" "),o("p",[e._v("不写多少，要搞毕设了。")]),e._v(" "),o("p",[e._v("如果要问我从这个项目中学到了什么，而且只能说一点的话，那我只能说千万不要在睡觉之前写代码...")])])}),[],!1,null,null,null);t.default=p.exports}}]);